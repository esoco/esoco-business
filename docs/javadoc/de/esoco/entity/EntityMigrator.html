<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_191) on Mon Oct 29 18:19:10 CET 2018 -->
<title>EntityMigrator (esoco-business 1.3.0 API)</title>
<meta name="date" content="2018-10-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EntityMigrator (esoco-business 1.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/esoco/entity/EntityManager.StoreListener.html" title="interface in de.esoco.entity"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/esoco/entity/EntityPredicates.html" title="class in de.esoco.entity"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/esoco/entity/EntityMigrator.html" target="_top">Frames</a></li>
<li><a href="EntityMigrator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.esoco.entity</div>
<h2 title="Class EntityMigrator" class="title">Class EntityMigrator&lt;S extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,T extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.obrel.core.RelatedObject</li>
<li>
<ul class="inheritance">
<li>de.esoco.lib.expression.function.AbstractFunction&lt;S,T&gt;</li>
<li>
<ul class="inheritance">
<li>de.esoco.entity.EntityMigrator&lt;S,T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.util.function.Function&lt;S,T&gt;, org.obrel.core.Relatable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EntityMigrator&lt;S extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,T extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;</span>
extends de.esoco.lib.expression.function.AbstractFunction&lt;S,T&gt;</pre>
<div class="block">A utility class that provides methods to perform a migration from one entity
 type to another.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.de.esoco.lib.expression.Function">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;de.esoco.lib.expression.Function</h3>
<code>INPUT_PLACEHOLDER</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#EntityMigrator-java.lang.Class-java.lang.Class-">EntityMigrator</a></span>(java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&gt;&nbsp;rSourceType,
              java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&gt;&nbsp;rTargetType)</code>
<div class="block">Creates a new instance for certain source and target entity definition.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#afterStore-T-S-">afterStore</a></span>(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;rTarget,
          <a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)</code>
<div class="block">Can be overridden when there is need to perform any action on the newly
 stored entity.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#evaluate-S-">evaluate</a></span>(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)</code>
<div class="block">Invokes <a href="../../../de/esoco/entity/EntityMigrator.html#migrateEntity-S-"><code>migrateEntity(Entity)</code></a> for the input entity and returns
 the result.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#finish--">finish</a></span>()</code>
<div class="block">This method can be overridden by subclasses to perform cleanup operations
 or similar at the end of the migration.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#getTargetType--">getTargetType</a></span>()</code>
<div class="block">Returns the class of target entity type.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#init--">init</a></span>()</code>
<div class="block">This method can be overridden by subclasses to perform initialization
 before of the migration of entities.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#migrateAttributes-S-T-">migrateAttributes</a></span>(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource,
                 <a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;rTarget)</code>
<div class="block">Migrates the attributes from a source entity to the target entity
 according to the defined migration rules.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#migrateChildren-de.esoco.entity.Entity-de.esoco.entity.Entity-">migrateChildren</a></span>(<a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rSource,
               <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rTarget)</code>
<div class="block">Migrates the child entities from a source entity to the target entity
 according to the defined migration rules.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#migrateEntities-de.esoco.lib.expression.Predicate-">migrateEntities</a></span>(de.esoco.lib.expression.Predicate&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;&nbsp;rCriteria)</code>
<div class="block">Migrates a certain set of entities according to the rules of this
 instance.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#migrateEntity-S-">migrateEntity</a></span>(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)</code>
<div class="block">Migrates a single entity according to the rules of this instance.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setArbitraryEntityReferenceRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">setArbitraryEntityReferenceRule</a></span>(org.obrel.core.RelationType&lt;?&gt;&nbsp;rTargetAttribute,
                               de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,java.lang.String&gt;&nbsp;rRule)</code>
<div class="block">Sets a migration rule for an arbitrary entity reference attribute of the
 target entities.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>&lt;A&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setAttributeCopyRule-org.obrel.core.RelationType-org.obrel.core.RelationType-">setAttributeCopyRule</a></span>(org.obrel.core.RelationType&lt;A&gt;&nbsp;rSourceAttribute,
                    org.obrel.core.RelationType&lt;A&gt;&nbsp;rTargetAttribute)</code>
<div class="block">Sets a simple copy migration rule for a particular set of source and
 target attributes.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;A&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setAttributeRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">setAttributeRule</a></span>(org.obrel.core.RelationType&lt;A&gt;&nbsp;rTargetAttribute,
                de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,A&gt;&nbsp;rRule)</code>
<div class="block">Sets a migration rule for a particular target attribute.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setChildMigrator-org.obrel.core.RelationType-de.esoco.entity.EntityMigrator-">setChildMigrator</a></span>(org.obrel.core.RelationType&lt;? extends java.util.List&lt;? extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;&gt;&nbsp;rTargetChildAttribute,
                <a href="../../../de/esoco/entity/EntityMigrator.html" title="class in de.esoco.entity">EntityMigrator</a>&lt;?,?&gt;&nbsp;rMigrator)</code>
<div class="block">Sets an entity migrator that will be used for the migration of a certain
 child entity type of the entity that is handled by this instance.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setEntityReferenceRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">setEntityReferenceRule</a></span>(org.obrel.core.RelationType&lt;?&gt;&nbsp;rTargetAttribute,
                      de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,java.lang.Integer&gt;&nbsp;rRule)</code>
<div class="block">Sets a migration rule for a particular entity reference attribute of the
 target entities.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setIgnoredAttributes-org.obrel.core.RelationType...-">setIgnoredAttributes</a></span>(org.obrel.core.RelationType&lt;?&gt;...&nbsp;rAttributes)</code>
<div class="block">Sets the target attributes to be ignored by the migration.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#setVerbose-boolean-">setVerbose</a></span>(boolean&nbsp;bVerbose)</code>
<div class="block">Sets the verbose flag of this instance.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/entity/EntityMigrator.html#storeEntity-de.esoco.entity.Entity-">storeEntity</a></span>(<a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rEntity)</code>
<div class="block">Stores an entity in the target storage.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.de.esoco.lib.expression.function.AbstractFunction">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;de.esoco.lib.expression.function.AbstractFunction</h3>
<code>equals, getToken, hashCode, paramsEqual, paramsHashCode, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.obrel.core.RelatedObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.obrel.core.RelatedObject</h3>
<code>deleteRelation, get, getRelation, getRelations, notifyRelationListeners, readRelations, relationsEqual, relationsHashCode, relationsString, set, set, transform, writeRelations</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.de.esoco.lib.expression.Function">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;de.esoco.lib.expression.Function</h3>
<code>andFinally, apply, from, is, then</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.function.Function">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.function.Function</h3>
<code>andThen, compose, identity</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.obrel.core.Relatable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.obrel.core.Relatable</h3>
<code>deleteRelation, deleteRelations, get, get, getAll, getRelationCount, getRelations, hasFlag, hasRelation, hasRelations, init, set, set, set, streamRelations</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EntityMigrator-java.lang.Class-java.lang.Class-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EntityMigrator</h4>
<pre>public&nbsp;EntityMigrator(java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&gt;&nbsp;rSourceType,
                      java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&gt;&nbsp;rTargetType)</pre>
<div class="block">Creates a new instance for certain source and target entity definition.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rSourceType</code> - The source entity definition</dd>
<dd><code>rTargetType</code> - The target entity definition</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="evaluate-de.esoco.entity.Entity-">
<!--   -->
</a><a name="evaluate-S-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;evaluate(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)</pre>
<div class="block">Invokes <a href="../../../de/esoco/entity/EntityMigrator.html#migrateEntity-S-"><code>migrateEntity(Entity)</code></a> for the input entity and returns
 the result. Any occurring storage exception will be converted into a
 runtime exception.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Function.evaluate(Object)</code></dd>
</dl>
</li>
</ul>
<a name="getTargetType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetType</h4>
<pre>public&nbsp;java.lang.Class&lt;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&gt;&nbsp;getTargetType()</pre>
<div class="block">Returns the class of target entity type.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The target type class</dd>
</dl>
</li>
</ul>
<a name="migrateEntities-de.esoco.lib.expression.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateEntities</h4>
<pre>public&nbsp;void&nbsp;migrateEntities(de.esoco.lib.expression.Predicate&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;&nbsp;rCriteria)
                     throws java.lang.Exception</pre>
<div class="block">Migrates a certain set of entities according to the rules of this
 instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rCriteria</code> - The criteria to limit the migrated entities or NULL for
                   all entities of the source type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If the migration fails</dd>
</dl>
</li>
</ul>
<a name="migrateEntity-de.esoco.entity.Entity-">
<!--   -->
</a><a name="migrateEntity-S-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateEntity</h4>
<pre>public&nbsp;<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;migrateEntity(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)
                throws de.esoco.storage.StorageException,
                       de.esoco.lib.manage.TransactionException</pre>
<div class="block">Migrates a single entity according to the rules of this instance. A
 subclass may return NULL to omit certain source entities from the
 migration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rSource</code> - The entity to migrate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The resulting entity of the target definition or NULL if the
         entity shall not be migrated</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.esoco.storage.StorageException</code> - If retrieving an entity from a storage fails</dd>
<dd><code>de.esoco.lib.manage.TransactionException</code> - If the transaction for storing the target
                              entity fails</dd>
</dl>
</li>
</ul>
<a name="setArbitraryEntityReferenceRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArbitraryEntityReferenceRule</h4>
<pre>public&nbsp;void&nbsp;setArbitraryEntityReferenceRule(org.obrel.core.RelationType&lt;?&gt;&nbsp;rTargetAttribute,
                                            de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,java.lang.String&gt;&nbsp;rRule)</pre>
<div class="block">Sets a migration rule for an arbitrary entity reference attribute of the
 target entities. The rule argument must be a function that retrieves or
 generates the global string ID of the referenced entity from the source
 entity. If it is NULL the given target attribute will be ignored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rTargetAttribute</code> - The attribute of the target entity to set</dd>
<dd><code>rRule</code> - A rule that creates the ID of the referenced
                         entity or NULL to ignore the attribute</dd>
</dl>
</li>
</ul>
<a name="setAttributeCopyRule-org.obrel.core.RelationType-org.obrel.core.RelationType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAttributeCopyRule</h4>
<pre>public&nbsp;&lt;A&gt;&nbsp;void&nbsp;setAttributeCopyRule(org.obrel.core.RelationType&lt;A&gt;&nbsp;rSourceAttribute,
                                     org.obrel.core.RelationType&lt;A&gt;&nbsp;rTargetAttribute)</pre>
<div class="block">Sets a simple copy migration rule for a particular set of source and
 target attributes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rSourceAttribute</code> - The source attribute to copy</dd>
<dd><code>rTargetAttribute</code> - The target attribute to set</dd>
</dl>
</li>
</ul>
<a name="setAttributeRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAttributeRule</h4>
<pre>public&nbsp;&lt;A&gt;&nbsp;void&nbsp;setAttributeRule(org.obrel.core.RelationType&lt;A&gt;&nbsp;rTargetAttribute,
                                 de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,A&gt;&nbsp;rRule)</pre>
<div class="block">Sets a migration rule for a particular target attribute. The rule
 argument must be a function that retrieves or creates the target
 attribute value from the source entity. If it is NULL the given target
 attribute will be ignored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rTargetAttribute</code> - The attribute of the target entity to set</dd>
<dd><code>rRule</code> - A rule that creates the target attribute value or
                         NULL to ignore the attribute</dd>
</dl>
</li>
</ul>
<a name="setChildMigrator-org.obrel.core.RelationType-de.esoco.entity.EntityMigrator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChildMigrator</h4>
<pre>public&nbsp;void&nbsp;setChildMigrator(org.obrel.core.RelationType&lt;? extends java.util.List&lt;? extends <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&gt;&gt;&nbsp;rTargetChildAttribute,
                             <a href="../../../de/esoco/entity/EntityMigrator.html" title="class in de.esoco.entity">EntityMigrator</a>&lt;?,?&gt;&nbsp;rMigrator)</pre>
<div class="block">Sets an entity migrator that will be used for the migration of a certain
 child entity type of the entity that is handled by this instance. If the
 migrator is set to NULL the children of the given type will be ignored
 during the migration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rTargetChildAttribute</code> - The target child attribute to migrate</dd>
<dd><code>rMigrator</code> - The child migrator or NULL to ignore
                              children of this type</dd>
</dl>
</li>
</ul>
<a name="setEntityReferenceRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEntityReferenceRule</h4>
<pre>public&nbsp;void&nbsp;setEntityReferenceRule(org.obrel.core.RelationType&lt;?&gt;&nbsp;rTargetAttribute,
                                   de.esoco.lib.expression.Function&lt;? super <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>,java.lang.Integer&gt;&nbsp;rRule)</pre>
<div class="block">Sets a migration rule for a particular entity reference attribute of the
 target entities. The rule argument must be a function that retrieves or
 creates the integer ID of the referenced entity from the source entity.
 If it is NULL the given target attribute will be ignored.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rTargetAttribute</code> - The attribute of the target entity to set</dd>
<dd><code>rRule</code> - A rule that creates the ID of the referenced
                         entity or NULL to ignore the attribute</dd>
</dl>
</li>
</ul>
<a name="setIgnoredAttributes-org.obrel.core.RelationType...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIgnoredAttributes</h4>
<pre>public&nbsp;void&nbsp;setIgnoredAttributes(org.obrel.core.RelationType&lt;?&gt;...&nbsp;rAttributes)</pre>
<div class="block">Sets the target attributes to be ignored by the migration. This is a
 shortcut for invoking <a href="../../../de/esoco/entity/EntityMigrator.html#setAttributeRule-org.obrel.core.RelationType-de.esoco.lib.expression.Function-"><code>setAttributeRule(RelationType, Function)</code></a>
 with a rule value of NULL.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rAttributes</code> - The target attributes to be ignored</dd>
</dl>
</li>
</ul>
<a name="setVerbose-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVerbose</h4>
<pre>public&nbsp;void&nbsp;setVerbose(boolean&nbsp;bVerbose)</pre>
<div class="block">Sets the verbose flag of this instance. If the flag is TRUE the source
 and target entities processed during migration will be output to the
 console. The default value is FALSE.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bVerbose</code> - TRUE for verbose mode, FALSE for quiet mode</dd>
</dl>
</li>
</ul>
<a name="afterStore-de.esoco.entity.Entity-de.esoco.entity.Entity-">
<!--   -->
</a><a name="afterStore-T-S-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterStore</h4>
<pre>protected&nbsp;void&nbsp;afterStore(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;rTarget,
                          <a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource)
                   throws de.esoco.storage.StorageException,
                          de.esoco.lib.manage.TransactionException</pre>
<div class="block">Can be overridden when there is need to perform any action on the newly
 stored entity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rTarget</code> - The migrated and stored entity</dd>
<dd><code>rSource</code> - The entity that has been migrated</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.esoco.storage.StorageException</code> - If retrieving an entity from a storage fails</dd>
<dd><code>de.esoco.lib.manage.TransactionException</code> - If the transaction for storing an entity
                              fails</dd>
</dl>
</li>
</ul>
<a name="finish--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finish</h4>
<pre>protected&nbsp;void&nbsp;finish()
               throws java.lang.Exception</pre>
<div class="block">This method can be overridden by subclasses to perform cleanup operations
 or similar at the end of the migration. It will be invoked after all
 entities have been migrated successfully. The default implementation does
 nothing.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If finishing fails</dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init()
             throws java.lang.Exception</pre>
<div class="block">This method can be overridden by subclasses to perform initialization
 before of the migration of entities. It will be invoked after the
 storages have been initialized but before any entity has been migrated.
 The default implementation does nothing.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If the initialization fails</dd>
</dl>
</li>
</ul>
<a name="migrateAttributes-de.esoco.entity.Entity-de.esoco.entity.Entity-">
<!--   -->
</a><a name="migrateAttributes-S-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateAttributes</h4>
<pre>protected&nbsp;void&nbsp;migrateAttributes(<a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">S</a>&nbsp;rSource,
                                 <a href="../../../de/esoco/entity/EntityMigrator.html" title="type parameter in EntityMigrator">T</a>&nbsp;rTarget)
                          throws de.esoco.storage.StorageException</pre>
<div class="block">Migrates the attributes from a source entity to the target entity
 according to the defined migration rules.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rSource</code> - The source entity</dd>
<dd><code>rTarget</code> - The target entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.esoco.storage.StorageException</code> - If retrieving an entity from a storage fails</dd>
</dl>
</li>
</ul>
<a name="migrateChildren-de.esoco.entity.Entity-de.esoco.entity.Entity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateChildren</h4>
<pre>protected&nbsp;void&nbsp;migrateChildren(<a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rSource,
                               <a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rTarget)
                        throws de.esoco.storage.StorageException,
                               de.esoco.lib.manage.TransactionException</pre>
<div class="block">Migrates the child entities from a source entity to the target entity
 according to the defined migration rules.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rSource</code> - The source entity</dd>
<dd><code>rTarget</code> - The target entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.esoco.storage.StorageException</code> - If retrieving an entity from a storage fails</dd>
<dd><code>de.esoco.lib.manage.TransactionException</code> - If storing an entity fails</dd>
</dl>
</li>
</ul>
<a name="storeEntity-de.esoco.entity.Entity-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storeEntity</h4>
<pre>protected&nbsp;void&nbsp;storeEntity(<a href="../../../de/esoco/entity/Entity.html" title="class in de.esoco.entity">Entity</a>&nbsp;rEntity)
                    throws de.esoco.storage.StorageException</pre>
<div class="block">Stores an entity in the target storage.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rEntity</code> - The entity to store</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.esoco.storage.StorageException</code> - If storing the entity fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/esoco/entity/EntityManager.StoreListener.html" title="interface in de.esoco.entity"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/esoco/entity/EntityPredicates.html" title="class in de.esoco.entity"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/esoco/entity/EntityMigrator.html" target="_top">Frames</a></li>
<li><a href="EntityMigrator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
